"use strict";(()=>{var e={};e.id=2688,e.ids=[2688],e.modules={97352:e=>{e.exports=require("@prisma/client/runtime/library.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},57147:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},12781:e=>{e.exports=require("stream")},73837:e=>{e.exports=require("util")},90646:(e,a,r)=>{r.r(a),r.d(a,{headerHooks:()=>f,originalPathname:()=>A,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>p,staticGenerationAsyncStorage:()=>l,staticGenerationBailout:()=>w});var s={};r.r(s),r.d(s,{POST:()=>POST});var t=r(10884),i=r(16132),n=r(95798),o=r(96810),u=r(8192);let m=new o.PrismaClient;async function POST(e){try{let{secret:a}=await e.json();if("create-admin-2024"!==a)return n.Z.json({error:"Unauthorized"},{status:401});let r=[];for(let e of[{email:"admin@kushtunes.com",username:"admin",password:"Admin123!",firstName:"Kush",lastName:"Admin",role:"ADMIN",isEmailVerified:!0,isActive:!0},{email:"superadmin@kushtunes.com",username:"superadmin",password:"SuperAdmin123!",firstName:"Super",lastName:"Admin",role:"ADMIN",isEmailVerified:!0,isActive:!0},{email:"demo@kushtunes.com",username:"demo",password:"Demo123!",firstName:"Demo",lastName:"User",role:"ADMIN",isEmailVerified:!0,isActive:!0}]){let a=await m.user.findFirst({where:{OR:[{email:e.email},{username:e.username}]}});if(a){r.push({email:e.email,status:"already_exists",message:"Admin account already exists"});continue}let s=await (0,u.c_)(e.password);await m.user.create({data:{email:e.email,username:e.username,password:s,firstName:e.firstName,lastName:e.lastName,role:e.role,isEmailVerified:e.isEmailVerified,isActive:e.isActive}}),r.push({email:e.email,username:e.username,password:e.password,status:"created",message:"Admin account created successfully"})}return n.Z.json({success:!0,message:"Admin accounts processed",accounts:r})}catch(e){return console.error("Error creating admin accounts:",e),n.Z.json({error:"Failed to create admin accounts"},{status:500})}finally{await m.$disconnect()}}let c=new t.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/admin/create-accounts/route",pathname:"/api/admin/create-accounts",filename:"route",bundlePath:"app/api/admin/create-accounts/route"},resolvedPagePath:"/Users/wizloxssd/Downloads/kushtunes-starter/app/api/admin/create-accounts/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:l,serverHooks:p,headerHooks:f,staticGenerationBailout:w}=c,A="/api/admin/create-accounts/route"}};var a=require("../../../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),r=a.X(0,[729,6449,5798,6810,8752,8192],()=>__webpack_exec__(90646));module.exports=r})();