(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{6964:function(e,s,t){Promise.resolve().then(t.bind(t,2097))},2097:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return UploadPage}});var a=t(7437),l=t(2265),r=t(1396),i=t.n(r),d=t(3827),n=t(8676),c=t(5617),o=t(2733),u=t(2247),x=t(1628);function MobileUploadForm(e){let{onSubmit:s,onCancel:t}=e,[r,i]=(0,l.useState)(""),[d,n]=(0,l.useState)(""),[c,m]=(0,l.useState)("single"),[h,p]=(0,l.useState)(""),[f,b]=(0,l.useState)(null),[j,g]=(0,l.useState)(null),[N,k]=(0,l.useState)(!1),[v,y]=(0,l.useState)(1),w=(0,l.useRef)(null),C=f?URL.createObjectURL(f):"",S=j?URL.createObjectURL(j):"",handleSubmit=async e=>{e.preventDefault(),k(!0),await new Promise(e=>setTimeout(e,2e3)),s({title:r,artist:d,releaseType:c,date:h,audio:f,art:j}),k(!1)},canProceed=()=>{switch(v){case 1:return r.trim()&&d.trim();case 2:return h&&f&&j;case 3:return!0;default:return!1}};return(0,a.jsx)(o.oW,{isOpen:!0,onClose:t,title:"New Release",children:(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-center space-x-2 mb-6",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(e<=v?"bg-sky-600 text-white":"bg-slate-200 text-slate-500 dark:bg-slate-700 dark:text-slate-400"),children:e},e))}),1===v&&(0,a.jsxs)("div",{className:"space-y-4 mobile-fade-in",children:[(0,a.jsx)(o.Su,{label:"Track Title",value:r,onChange:i,placeholder:"Enter track title",required:!0,autoComplete:"off"}),(0,a.jsx)(o.Su,{label:"Artist Name",value:d,onChange:n,placeholder:"Enter artist name",required:!0,autoComplete:"off"}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Release Type"}),(0,a.jsxs)("select",{value:c,onChange:e=>m(e.target.value),className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm transition-colors focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/20 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-100",children:[(0,a.jsx)("option",{value:"single",children:"Single"}),(0,a.jsx)("option",{value:"ep",children:"EP"}),(0,a.jsx)("option",{value:"album",children:"Album"})]})]})]}),2===v&&(0,a.jsxs)("div",{className:"space-y-4 mobile-fade-in",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Release Date"}),(0,a.jsx)("input",{type:"date",value:h,onChange:e=>p(e.target.value),required:!0,className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm transition-colors focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/20 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-100"})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Audio File (WAV/FLAC)"}),(0,a.jsx)("input",{type:"file",accept:".wav,.flac,audio/wav,audio/flac",onChange:e=>{var s,t;return b(null!==(t=null===(s=e.target.files)||void 0===s?void 0:s[0])&&void 0!==t?t:null)},required:!0,className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm transition-colors focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/20 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-100"}),f&&(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[f.name," • ",(0,x.t)(f.size)]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Artwork (min 3000\xd73000, JPG/PNG)"}),(0,a.jsx)("input",{type:"file",accept:"image/png,image/jpeg",onChange:e=>{var s,t;return g(null!==(t=null===(s=e.target.files)||void 0===s?void 0:s[0])&&void 0!==t?t:null)},required:!0,className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm transition-colors focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/20 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-100"}),j&&(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[j.name," • ",(0,x.t)(j.size)]})]})]}),3===v&&(0,a.jsxs)("div",{className:"space-y-4 mobile-fade-in",children:[(0,a.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Preview"}),(0,a.jsx)("div",{className:"rounded-xl border border-slate-200 p-4 dark:border-slate-800",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-16 w-16 overflow-hidden rounded-md bg-slate-200",children:S?(0,a.jsx)("img",{src:S,alt:"Artwork preview",className:"h-full w-full object-cover"}):null}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium",children:r||"Untitled"}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:d||"Unknown Artist"}),C?(0,a.jsx)("audio",{ref:w,src:C,controls:!0,className:"mt-2 w-full"}):(0,a.jsx)("p",{className:"mt-2 text-xs text-slate-500",children:"Upload audio to preview."})]})]})})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[v>1&&(0,a.jsx)(u.z,{type:"button",intent:"ghost",onClick:()=>{v>1&&y(v-1)},className:"flex-1",children:"Back"}),v<3?(0,a.jsx)(u.z,{type:"button",onClick:()=>{v<3&&y(v+1)},disabled:!canProceed(),className:"flex-1",children:"Next"}):(0,a.jsx)(u.z,{type:"submit",disabled:N||!canProceed(),className:"flex-1",children:N?"Uploading...":"Create Release"})]})]})})}function Input(e){let{className:s,...t}=e;return(0,a.jsx)("input",{className:(0,x.cn)("h-10 w-full rounded-md border border-slate-300 bg-white px-3 text-sm outline-none ring-0 placeholder:text-slate-400 focus:border-sky-500 focus:ring-1 focus:ring-sky-500 dark:border-slate-700 dark:bg-slate-900",s),...t})}function Label(e){let{className:s,...t}=e;return(0,a.jsx)("label",{className:(0,x.cn)("text-sm font-medium text-slate-800 dark:text-slate-200",s),...t})}function UploadPage(){let[e,s]=(0,l.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.h,{}),(0,a.jsx)(c.MobileHeader,{}),(0,a.jsxs)("main",{className:"mx-auto w-full max-w-md flex-1 px-4 pb-20 pt-6 sm:px-6 md:pt-8",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(i(),{href:"/",className:"text-sm text-sky-600 underline hover:text-sky-700 dark:text-sky-400",children:"← Back to home"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"New release"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-slate-600 dark:text-slate-400",children:"Upload your audio & artwork. We'll validate and prepare your draft."}),(0,a.jsx)("div",{className:"mt-6 sm:hidden",children:(0,a.jsx)(u.z,{onClick:()=>s(!0),className:"h-12 w-full",children:"Start Mobile Upload"})}),(0,a.jsxs)("form",{className:"mt-6 space-y-5 hidden sm:block",onSubmit:e=>{e.preventDefault(),alert("This is a demo. Wire this form to your API for real uploads.")},children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(Label,{htmlFor:"title",children:"Title"}),(0,a.jsx)(Input,{id:"title",placeholder:"Falling",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(Label,{htmlFor:"artist",children:"Primary Artist"}),(0,a.jsx)(Input,{id:"artist",placeholder:"Milton Kizzy",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(Label,{children:"Release Type"}),(0,a.jsxs)("select",{className:"w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm transition-colors focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500/20 dark:border-slate-800 dark:bg-slate-900 dark:text-slate-100",children:[(0,a.jsx)("option",{value:"single",children:"Single"}),(0,a.jsx)("option",{value:"ep",children:"EP"}),(0,a.jsx)("option",{value:"album",children:"Album"})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(Label,{htmlFor:"date",children:"Release Date"}),(0,a.jsx)(Input,{id:"date",type:"date",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(Label,{htmlFor:"audio",children:"Audio (WAV/FLAC)"}),(0,a.jsx)(Input,{id:"audio",type:"file",accept:".wav,.flac,audio/wav,audio/flac",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)(Label,{htmlFor:"art",children:"Artwork (min 3000\xd73000, JPG/PNG)"}),(0,a.jsx)(Input,{id:"art",type:"file",accept:"image/png,image/jpeg",required:!0})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,a.jsx)(u.z,{type:"submit",className:"h-11 flex-1",children:"Create draft"}),(0,a.jsx)(u.z,{asChild:!0,intent:"ghost",className:"h-11",children:(0,a.jsx)("a",{href:"/dashboard",children:"Skip to dashboard"})})]})]})]}),(0,a.jsx)(n.$,{}),(0,a.jsx)(c.MobileBottomNav,{}),e&&(0,a.jsx)(MobileUploadForm,{onSubmit:e=>{console.log("Mobile form submitted:",e),s(!1),alert("Release created successfully!")},onCancel:()=>{s(!1)}})]})}}},function(e){e.O(0,[569,92,971,472,744],function(){return e(e.s=6964)}),_N_E=e.O()}]);