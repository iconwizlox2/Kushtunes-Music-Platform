"use strict";(()=>{var e={};e.id=1734,e.ids=[1734],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},12781:e=>{e.exports=require("stream")},73837:e=>{e.exports=require("util")},37433:(e,r,s)=>{s.r(r),s.d(r,{headerHooks:()=>v,originalPathname:()=>x,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>w});var t={};s.r(t),s.d(t,{GET:()=>GET});var a=s(10884),i=s(16132),o=s(95798),n=s(53524),u=s(8192);let c=new n.PrismaClient;async function GET(e){try{let r=e.headers.get("authorization");if(!r)return o.Z.json({success:!1,message:"Authorization header required"},{status:401});let s=r.replace("Bearer ",""),t=(0,u.WX)(s);if(!t)return o.Z.json({success:!1,message:"Invalid token"},{status:401});if("ADMIN"!==t.role)return o.Z.json({success:!1,message:"Admin access required"},{status:403});let a=await c.release.findMany({where:{status:"UNDER_REVIEW"},include:{primaryArtist:!0,tracks:{include:{contributors:!0}}},orderBy:{createdAt:"asc"}});return o.Z.json({success:!0,data:a})}catch(e){return console.error("Get releases for review error:",e),o.Z.json({success:!1,message:"Internal server error"},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/admin/releases/review/route",pathname:"/api/admin/releases/review",filename:"route",bundlePath:"app/api/admin/releases/review/route"},resolvedPagePath:"/Users/wizloxssd/Downloads/kushtunes-starter/app/api/admin/releases/review/route.ts",nextConfigOutput:"standalone",userland:t}),{requestAsyncStorage:l,staticGenerationAsyncStorage:p,serverHooks:m,headerHooks:v,staticGenerationBailout:w}=d,x="/api/admin/releases/review/route"}};var r=require("../../../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),s=r.X(0,[4736,8592],()=>__webpack_exec__(37433));module.exports=s})();