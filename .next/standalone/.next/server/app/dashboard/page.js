(()=>{var e={};e.id=7702,e.ids=[7702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},57310:e=>{"use strict";e.exports=require("url")},38775:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>u,tree:()=>d});var a=t(67096),r=t(16132),l=t(37284),i=t.n(l),n=t(32564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1618)),"/Users/wizloxssd/Downloads/kushtunes-starter/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,62606)),"/Users/wizloxssd/Downloads/kushtunes-starter/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/wizloxssd/Downloads/kushtunes-starter/app/dashboard/page.tsx"],o="/dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},65682:(e,s,t)=>{Promise.resolve().then(t.bind(t,58661))},58661:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>DashboardPage});var a=t(30784),r=t(9885),l=t(11440),i=t.n(l),n=t(1381),c=t(22820),d=t(33823);function DashboardPage(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0),[x,o]=(0,r.useState)({totalReleases:0,totalStreams:0,totalRevenue:0,liveDistributions:0,pendingDistributions:0});(0,r.useEffect)(()=>{fetchReleases()},[]);let fetchReleases=async()=>{try{let e=await fetch("/api/upload"),t=await e.json();t.success&&(s(t.data),calculateStats(t.data))}catch(e){console.error("Error fetching releases:",e)}finally{l(!1)}},calculateStats=e=>{let s=0,t=0,a=0,r=0;e.forEach(e=>{e.distributions.forEach(e=>{s+=e.streams||0,t+=e.revenue||0,"LIVE"===e.status?a++:("PENDING"===e.status||"PROCESSING"===e.status)&&r++})}),o({totalReleases:e.length,totalStreams:s,totalRevenue:t,liveDistributions:a,pendingDistributions:r})},getStatusColor=e=>{switch(e){case"LIVE":return"text-green-600 bg-green-100";case"PROCESSING":return"text-yellow-600 bg-yellow-100";case"PENDING":return"text-blue-600 bg-blue-100";case"REJECTED":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},getStatusIcon=e=>{switch(e){case"LIVE":return a.jsx(d.rE,{className:"h-4 w-4"});case"PROCESSING":return a.jsx(d.T3,{className:"h-4 w-4"});default:return a.jsx(d.LP,{className:"h-4 w-4"})}};return t?a.jsx(n.o,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(c.TK,{})})}):a.jsx(n.o,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your music releases and distribution"})]}),a.jsx(c.DL,{variant:"primary",asChild:!0,children:(0,a.jsxs)(i(),{href:"/upload",children:[a.jsx(d.pO,{className:"h-5 w-5 mr-2"}),"Upload New Release"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[a.jsx(c.ZH,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(d.MJ,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Releases"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.totalReleases})]})]})}),a.jsx(c.ZH,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(d.o1,{className:"h-6 w-6 text-green-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Streams"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.totalStreams.toLocaleString()})]})]})}),a.jsx(c.ZH,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(d.UK,{className:"h-6 w-6 text-yellow-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",x.totalRevenue.toFixed(2)]})]})]})}),a.jsx(c.ZH,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(d.I_,{className:"h-6 w-6 text-purple-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Live Distributions"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.liveDistributions})]})]})}),a.jsx(c.ZH,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:a.jsx(d.T3,{className:"h-6 w-6 text-orange-600"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.pendingDistributions})]})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Releases"}),0===e.length?(0,a.jsxs)(c.ZH,{className:"p-12 text-center",children:[a.jsx(d.MJ,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No releases yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Upload your first track to get started with distribution"}),a.jsx(c.DL,{variant:"primary",asChild:!0,children:a.jsx(i(),{href:"/upload",children:"Upload Your First Release"})})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(e=>a.jsx(c.ZH,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[e.coverUrl&&a.jsx("img",{src:e.coverUrl,alt:e.title,className:"w-16 h-16 rounded-lg object-cover"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.title}),a.jsx("p",{className:"text-sm text-gray-600",children:e.artist}),(0,a.jsxs)("div",{className:"mt-2 flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(e.status)}`,children:[getStatusIcon(e.status),a.jsx("span",{className:"ml-1",children:e.status})]}),e.isrc&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["ISRC: ",e.isrc]})]}),e.distributions.length>0&&(0,a.jsxs)("div",{className:"mt-3 space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Distributions:"}),e.distributions.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:e.dspName}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(e.status)}`,children:[getStatusIcon(e.status),a.jsx("span",{className:"ml-1",children:e.status})]}),e.streams&&e.streams>0&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[e.streams.toLocaleString()," streams"]})]})]},e.id))]})]})]})},e.id))})]})]})})}},1618:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>c});var a=t(95153);let r=(0,a.createProxy)(String.raw`/Users/wizloxssd/Downloads/kushtunes-starter/app/dashboard/page.tsx`),{__esModule:l,$$typeof:i}=r,n=r.default,c=n}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[3657,3073,1440,547,4391],()=>__webpack_exec__(38775));module.exports=t})();