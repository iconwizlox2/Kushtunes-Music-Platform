"use strict";(()=>{var e={};e.id=590,e.ids=[590],e.modules={3524:e=>{e.exports=require("@prisma/client")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4910:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>m,originalPathname:()=>f,requestAsyncStorage:()=>p,routeModule:()=>u,serverHooks:()=>d,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>h});var s={};t.r(s),t.d(s,{DELETE:()=>DELETE,GET:()=>GET,POST:()=>POST,PUT:()=>PUT});var a=t(884),o=t(6132),i=t(3524);let n=global,l=n.prisma||new i.PrismaClient;async function POST(e){try{let r=await e.json(),{title:t,artist:s,type:a,plannedAt:o,coverUrl:i,tracks:n}=r,u=await l.release.create({data:{userId:"demo-user-id",title:t,artist:s,type:a,plannedAt:new Date(o),coverUrl:i,status:"READY",tracks:{create:(n??[]).map(e=>({title:e.title,audioUrl:e.audioUrl,duration:e.duration??null,isrc:e.isrc??null}))}},include:{tracks:!0}});return Response.json(u)}catch(e){return console.error("Create release error:",e),Response.json({error:"Failed to create release"},{status:500})}}async function GET(){try{return Response.json([{id:"1",title:"Summer Vibes",artist:"Your Artist Name",status:"live",releaseDate:"2024-01-15",coverUrl:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=300&h=300&fit=crop",streams:45e4,downloads:12e3,revenue:450.25,platforms:["Spotify","Apple Music","YouTube Music","Amazon Music"]},{id:"2",title:"Midnight Dreams",artist:"Your Artist Name",status:"live",releaseDate:"2024-01-10",coverUrl:"https://images.unsplash.com/photo-1511379938547-c1f69419868d?w=300&h=300&fit=crop",streams:32e4,downloads:8500,revenue:320.5,platforms:["Spotify","Apple Music","YouTube Music"]},{id:"3",title:"City Lights",artist:"Your Artist Name",status:"ready",releaseDate:"2024-01-20",coverUrl:"https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=300&h=300&fit=crop",streams:0,downloads:0,revenue:0,platforms:[]},{id:"4",title:"Ocean Waves",artist:"Your Artist Name",status:"processing",releaseDate:"2024-01-25",coverUrl:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=300&fit=crop",streams:0,downloads:0,revenue:0,platforms:[]},{id:"5",title:"Desert Storm",artist:"Your Artist Name",status:"draft",releaseDate:"2024-02-01",coverUrl:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=300&fit=crop",streams:0,downloads:0,revenue:0,platforms:[]}])}catch(e){return console.error("Get releases error:",e),Response.json({error:"Failed to fetch releases"},{status:500})}}async function PUT(e){try{let r=await e.json(),{id:t,...s}=r,a=await l.release.update({where:{id:t},data:s,include:{tracks:!0}});return Response.json(a)}catch(e){return console.error("Update release error:",e),Response.json({error:"Failed to update release"},{status:500})}}async function DELETE(e){try{let{searchParams:r}=new URL(e.url),t=r.get("id");if(!t)return Response.json({error:"Release ID is required"},{status:400});return await l.release.delete({where:{id:t}}),Response.json({success:!0})}catch(e){return console.error("Delete release error:",e),Response.json({error:"Failed to delete release"},{status:500})}}let u=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/releases/route",pathname:"/api/releases",filename:"route",bundlePath:"app/api/releases/route"},resolvedPagePath:"/Users/wizloxssd/Downloads/kushtunes-starter/app/api/releases/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:p,staticGenerationAsyncStorage:c,serverHooks:d,headerHooks:m,staticGenerationBailout:h}=u,f="/api/releases/route"}};var r=require("../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[729],()=>__webpack_exec__(4910));module.exports=t})();