"use strict";(()=>{var e={};e.id=846,e.ids=[846],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},74127:(e,s,t)=>{t.r(s),t.d(s,{headerHooks:()=>l,originalPathname:()=>h,requestAsyncStorage:()=>p,routeModule:()=>n,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>m});var r={};t.r(r),t.d(r,{GET:()=>GET,POST:()=>POST});var a=t(10884),i=t(16132),o=t(95798);let u={DISTROKID:{name:"DistroKid",apiEndpoint:"https://api.distrokid.com/v1",authRequired:!0,uploadEndpoint:"/releases",statusEndpoint:"/releases/{id}/status",platforms:["Spotify","Apple Music","Amazon Music","YouTube Music","Tidal","Deezer","Pandora"],cost:"$19.99/year unlimited",revenueShare:.91},CDBABY:{name:"CD Baby",apiEndpoint:"https://api.cdbaby.com/v1",authRequired:!0,uploadEndpoint:"/releases",statusEndpoint:"/releases/{id}/status",platforms:["Spotify","Apple Music","Amazon Music","YouTube Music","Tidal","Deezer","Pandora","iTunes"],cost:"$9.95 per single, $29 per album",revenueShare:.91},AMUSE:{name:"Amuse",apiEndpoint:"https://api.amuse.io/v1",authRequired:!0,uploadEndpoint:"/releases",statusEndpoint:"/releases/{id}/status",platforms:["Spotify","Apple Music","Amazon Music","YouTube Music","Deezer","Tidal"],cost:"100% FREE",revenueShare:1},TUNECORE:{name:"TuneCore",apiEndpoint:"https://api.tunecore.com/v1",authRequired:!0,uploadEndpoint:"/releases",statusEndpoint:"/releases/{id}/status",platforms:["Spotify","Apple Music","Amazon Music","YouTube Music","Tidal","Deezer","Pandora"],cost:"$9.99 per single, $29.99 per album",revenueShare:.91}};let DistributorAPI=class DistributorAPI{constructor(e,s){this.config=u[e],this.apiKey=s}async uploadRelease(e){try{let s=new FormData;s.append("title",e.title),s.append("artist",e.artist),s.append("genre",e.genre),s.append("releaseDate",e.releaseDate),e.tracks.forEach((e,t)=>{s.append(`track_${t}_audio`,e.audioFile),s.append(`track_${t}_title`,e.title)}),s.append("coverArt",e.coverArt);let t=await fetch(`${this.config.apiEndpoint}${this.config.uploadEndpoint}`,{method:"POST",headers:{Authorization:`Bearer ${this.apiKey}`},body:s}),r=await t.json();if(t.ok)return{success:!0,submissionId:r.submissionId};return{success:!1,error:r.message||"Upload failed"}}catch(e){return{success:!1,error:"Network error"}}}async checkStatus(e){try{let s=await fetch(`${this.config.apiEndpoint}${this.config.statusEndpoint.replace("{id}",e)}`,{headers:{Authorization:`Bearer ${this.apiKey}`}}),t=await s.json();return{status:t.status,platformUrls:t.platformUrls}}catch(e){return{status:"ERROR"}}}};async function POST(e){try{let{distributor:s,apiKey:t,releaseData:r}=await e.json();if(!s||!t||!r)return o.Z.json({success:!1,message:"Missing required fields"},{status:400});if(!u[s])return o.Z.json({success:!1,message:"Invalid distributor"},{status:400});let a=new DistributorAPI(s,t),i=await a.uploadRelease(r);if(i.success)return o.Z.json({success:!0,message:"Release uploaded successfully",data:{distributor:u[s].name,submissionId:i.submissionId,platforms:u[s].platforms,cost:u[s].cost,revenueShare:u[s].revenueShare}});return o.Z.json({success:!1,message:i.error||"Upload failed"},{status:500})}catch(e){return console.error("Real distributor upload error:",e),o.Z.json({success:!1,message:"Internal server error"},{status:500})}}async function GET(e){try{let{searchParams:s}=new URL(e.url),t=s.get("distributor"),r=s.get("submissionId"),a=s.get("apiKey");if(!t||!r||!a)return o.Z.json({success:!1,message:"Missing required parameters"},{status:400});let i=new DistributorAPI(t,a),u=await i.checkStatus(r);return o.Z.json({success:!0,data:{status:u.status,platformUrls:u.platformUrls}})}catch(e){return console.error("Status check error:",e),o.Z.json({success:!1,message:"Internal server error"},{status:500})}}let n=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/real-distribute/route",pathname:"/api/real-distribute",filename:"route",bundlePath:"app/api/real-distribute/route"},resolvedPagePath:"/Users/wizloxssd/Downloads/kushtunes-starter/app/api/real-distribute/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:c,headerHooks:l,staticGenerationBailout:m}=n,h="/api/real-distribute/route"}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[729,6449,5798],()=>__webpack_exec__(74127));module.exports=t})();